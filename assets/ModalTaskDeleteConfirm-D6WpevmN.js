import{r as e,d as s,j as r}from"./index.js";import{B as a}from"./BaseModal-pjcrh43B.js";function n({task:n,onCancel:t,onConfirm:d}){if(e.useEffect(()=>{n||t()},[n,t]),!n)return null;const l=n.metadata||{},i=l.frequency??"—",o="number"==typeof l.startIndex?l.startIndex+1:"—",x="number"==typeof l.endIndex?l.endIndex+1:"—",m=l.segmentCommands,c=l.createdAt?s(l.createdAt).format("YYYY-MM-DD HH:mm:ss"):"—",u=n.lastExecutionTime?s(n.lastExecutionTime).format("YYYY-MM-DD HH:mm:ss"):"—",p=n.nextExecutionTime?s(n.nextExecutionTime).format("YYYY-MM-DD HH:mm:ss"):"—";return r.jsx(a,{open:!!n,onCancel:t,titleIcon:r.jsx("div",{className:"w-11 h-11 shrink-0 rounded-full bg-gradient-to-br from-rose-500 to-red-600 flex items-center justify-center text-white text-xl shadow",children:"🗑️"}),title:r.jsxs(r.Fragment,{children:["删除任务确认",r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-500/15 text-[11px] text-red-400 border border-red-500/30",children:"危险操作"})]}),description:"删除后需重新创建；此任务当前状态会实时刷新",okText:"🗑️ 删除任务",onOk:()=>d(n.id),width:340,children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"flex items-start gap-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-[var(--editor-foreground)] flex items-center gap-2"}),r.jsx("p",{className:"text-[11px] mt-1 leading-relaxed text-[var(--descriptionForeground)]"})]})}),r.jsxs("div",{className:"rounded-md border border-[var(--panel-border)] bg-[var(--editor-inactiveSelection)]/50 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-xs font-medium text-[var(--descriptionForeground)]",children:"任务名称"}),r.jsx("div",{className:"text-sm font-semibold truncate text-[var(--editor-foreground)]",children:n.name||"（未命名任务）"})]}),r.jsx("div",{children:n.isRunning?r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-500/15 text-[10px] text-green-400 border border-green-500/30",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"}),"运行中"]}):r.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-zinc-500/15 text-[10px] text-zinc-400 border border-zinc-600/30",children:"已停止"})})]}),r.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-3 text-[11px] text-[var(--editor-foreground)]",children:[{name:"频率",value:`${i} 秒`},{name:"起始指令",value:`#${o}`},{name:"结束指令",value:`#${x}`},{name:"区间数",value:"number"==typeof m?`${m}`:"—"},{name:"模式",value:!1===l.loop?"单轮":"循环"},{name:"已执行次数",value:`${n.executionCount??0} 次`},{name:"创建时间",value:c},{name:"最近执行",value:u},{name:"下次预计",value:p}].map((e,s)=>r.jsxs("li",{className:"flex flex-col gap-0.5",children:[r.jsx("span",{className:"opacity-60",children:e.name}),r.jsx("span",{className:"font-medium",children:e.value})]},s))})]}),r.jsx("div",{className:"rounded-md border border-red-500/30 bg-red-500/10 p-3 text-[11px] leading-relaxed text-red-300",children:"⚠️ 删除将立即停止该任务并移除记录，无法撤销。"})]})})}export{n as default};
